<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Federal & State Tax Calculator</title>
    <!-- Local CSS for mobile-friendly styling -->
    <link rel="stylesheet" href="styles.css">
    <!-- Google Fonts: Inter (with fallback) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="dark:bg-slate-900 text-slate-800 dark:text-slate-200 transition-colors duration-300">

    <div class="container">

        <header class="header">
            <!-- Dark/Light Mode Toggle -->
            <div class="absolute top-0 right-0">
                <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
                    <svg id="theme-toggle-dark-icon" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                    </svg>
                    <svg id="theme-toggle-light-icon" class="hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            <h1 class="main-title">Federal & State Tax Calculator</h1>
            <p class="subtitle">Visualize your tax breakdown with federal, Maryland state, and Anne Arundel County taxes.</p>
        </header>

        <!-- TAB NAVIGATION -->
        <nav class="tab-navigation">
            <button id="calculator-tab" class="tab-button active" aria-selected="true">
                Calculator
            </button>
            <button id="custom-calc-tab" class="tab-button" aria-selected="false">
                Federal Tax Graphs
            </button>
            <button id="maryland-calc-tab" class="tab-button" aria-selected="false">
                Maryland Tax Graphs
            </button>
        </nav>

        <main class="main-content">
            <!-- TAB CONTENT: CALCULATOR VIEW -->
            <div id="calculator-content" class="tab-content active">
                <!-- CONTROLS SECTION -->
            <div class="controls-section">
                <div class="control-group">
                    <label class="control-label">Filing Status</label>
                    <div id="filing-status" role="radiogroup" class="filing-status">
                        <label>
                            <input type="radio" name="filingStatus" value="1">
                            <div class="filing-status-option">Single</div>
                        </label>
                        <label>
                            <input type="radio" name="filingStatus" value="2" checked>
                            <div class="filing-status-option">Married</div>
                        </label>
                    </div>
                </div>
                
                <!-- FEDERAL TAX SECTION -->
                <div class="tax-section federal-section">
                    <h3 class="section-title federal-title">Federal Taxes</h3>
                    <div class="input-group">
                        <label for="federal-income-input" class="control-label">Federal Gross Income</label>
                        <div class="input-row">
                            <input id="federal-income-slider" type="range" min="0" max="1000000" step="1000" value="0" class="slider">
                            <input id="federal-income-input" type="number" min="0" max="1000000" step="1000" value="0" class="number-input">
                        </div>
                    </div>
                    <div class="input-group">
                        <label for="federal-adjustments-input" class="control-label">Federal Adjustments to Income</label>
                        <div class="input-row">
                            <input id="federal-adjustments-slider" type="range" min="0" max="1000000" step="500" value="0" class="slider">
                            <input id="federal-adjustments-input" type="number" min="0" max="1000000" step="500" value="0" class="number-input">
                        </div>
                    </div>
                    <div class="display-box concept-agi">
                        <p class="display-label">Federal AGI</p>
                        <p id="federal-agi-display" class="display-value">$0</p>
                    </div>
                    <div class="input-group">
                        <label for="federal-deductions-input" class="control-label">Federal Deductions</label>
                        <div class="input-row">
                            <input id="federal-deductions-slider" type="range" min="0" max="1000000" step="500" value="0" class="slider">
                            <input id="federal-deductions-input" type="number" min="0" max="1000000" step="500" value="0" class="number-input">
                        </div>
                    </div>
                    <div class="display-box concept-taxable-income">
                        <p class="display-label">Federal Taxable Income</p>
                        <p id="federal-taxable-income-display" class="display-value">$0</p>
                    </div>
                    <div class="input-group">
                        <label for="federal-credits-input" class="control-label">Federal Tax Credits</label>
                        <div class="input-row">
                            <input id="federal-credits-slider" type="range" min="0" max="1000000" step="100" value="0" class="slider">
                            <input id="federal-credits-input" type="number" min="0" max="1000000" step="100" value="0" class="number-input">
                        </div>
                    </div>
                </div>

                <!-- STATE TAX SECTION -->
                <div class="tax-section state-section">
                    <h3 class="section-title state-title">Maryland State & Anne Arundel County Taxes</h3>
                    <div class="input-group">
                        <label for="state-income-input" class="control-label">Maryland Gross Income</label>
                        <div class="input-row">
                            <input id="state-income-slider" type="range" min="0" max="1000000" step="1000" value="0" class="slider">
                            <input id="state-income-input" type="number" min="0" max="1000000" step="1000" value="0" class="number-input">
                        </div>
                    </div>
                    <div class="input-group">
                        <label for="state-adjustments-input" class="control-label">Maryland Adjustments to Income</label>
                        <div class="input-row">
                            <input id="state-adjustments-slider" type="range" min="0" max="1000000" step="500" value="0" class="slider">
                            <input id="state-adjustments-input" type="number" min="0" max="1000000" step="500" value="0" class="number-input">
                        </div>
                    </div>
                    <div class="display-box concept-agi">
                        <p class="display-label">Maryland AGI</p>
                        <p id="state-agi-display" class="display-value">$0</p>
                    </div>
                    <div class="input-group">
                        <label for="state-deductions-input" class="control-label">Maryland Deductions</label>
                        <div class="input-row">
                            <input id="state-deductions-slider" type="range" min="0" max="1000000" step="500" value="0" class="slider">
                            <input id="state-deductions-input" type="number" min="0" max="1000000" step="500" value="0" class="number-input">
                        </div>
                    </div>
                    <div class="display-box concept-taxable-income">
                        <p class="display-label">Maryland Taxable Income</p>
                        <p id="state-taxable-income-display" class="display-value">$0</p>
                    </div>
                    <div class="input-group">
                        <label for="state-credits-input" class="control-label">Maryland Tax Credits</label>
                        <div class="input-row">
                            <input id="state-credits-slider" type="range" min="0" max="1000000" step="100" value="0" class="slider">
                            <input id="state-credits-input" type="number" min="0" max="1000000" step="100" value="0" class="number-input">
                        </div>
                    </div>
                </div>
            </div>

            <!-- VISUALIZATION SECTION -->
            <div class="visualization-section">
                <h2 class="section-heading">Income Breakdown</h2>
                <div id="tax-bar-container" class="tax-bar-container">
                    <div id="bar-take-home" class="tax-bar bar-take-home" title="Take-Home Pay"></div>
                    <div id="bar-federal" class="tax-bar bar-federal" title="Federal Tax"></div>
                    <div id="bar-state" class="tax-bar bar-state" title="Maryland State Tax"></div>
                    <div id="bar-county" class="tax-bar bar-county" title="Anne Arundel County Tax"></div>
                </div>
                <!-- Legend -->
                <div class="legend">
                    <div class="legend-item"><span class="legend-color" style="background-color: #10b981;"></span>Take-Home</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #0ea5e9;"></span>Federal Tax</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #22c55e;"></span>Maryland State Tax</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #a855f7;"></span>Anne Arundel County Tax</div>
                </div>
            </div>

            <!-- RESULTS & BREAKDOWN SECTION -->
            <div>
                <h2 class="section-heading" style="text-align: center;">Tax Summary</h2>
                
                <!-- Tax Summary Grid -->
                <div class="summary-grid">
                    <!-- Federal Tax Summary -->
                    <div class="summary-card federal-summary">
                        <h3 class="summary-title federal-title">Federal Taxes</h3>
                        <div>
                            <div class="summary-row">
                                <span class="summary-label">Federal AGI:</span>
                                <span id="federal-agi-summary" class="summary-value">$0</span>
                            </div>
                            <div class="summary-row">
                                <span class="summary-label">Taxable Income:</span>
                                <span id="federal-taxable-summary" class="summary-value">$0</span>
                            </div>
                            <div class="summary-row summary-divider" style="border-color: #bfdbfe;">
                                <span class="summary-label" style="font-weight: 500;">Federal Tax:</span>
                                <span id="federal-tax-summary" class="summary-value federal-title">$0</span>
                            </div>
                            <div class="summary-row">
                                <span class="summary-label">Effective Rate:</span>
                                <span id="federal-rate-summary" class="summary-value">0.00%</span>
                            </div>
                        </div>
                    </div>

                    <!-- State Tax Summary -->
                    <div class="summary-card state-summary">
                        <h3 class="summary-title state-title">Maryland State Taxes</h3>
                        <div>
                            <div class="summary-row">
                                <span class="summary-label">Maryland AGI:</span>
                                <span id="state-agi-summary" class="summary-value">$0</span>
                            </div>
                            <div class="summary-row">
                                <span class="summary-label">Taxable Income:</span>
                                <span id="state-taxable-summary" class="summary-value">$0</span>
                            </div>
                            <div class="summary-row summary-divider" style="border-color: #bbf7d0;">
                                <span class="summary-label" style="font-weight: 500;">State Tax:</span>
                                <span id="state-tax-summary" class="summary-value state-title">$0</span>
                            </div>
                            <div class="summary-row">
                                <span class="summary-label">County Tax:</span>
                                <span id="county-tax-summary" class="summary-value" style="color: #7c3aed;">$0</span>
                            </div>
                            <div class="summary-row">
                                <span class="summary-label">Combined Rate:</span>
                                <span id="state-rate-summary" class="summary-value">0.00%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Total Summary -->
                <div class="total-summary">
                    <h3 class="section-heading" style="text-align: center; margin-bottom: 1rem;">Total Tax Summary</h3>
                    <div class="total-grid">
                        <div class="total-item">
                            <p class="total-label">Total Federal</p>
                            <p id="total-federal-display" class="total-value" style="color: #2563eb;">$0</p>
                        </div>
                        <div class="total-item">
                            <p class="total-label">Total State</p>
                            <p id="total-state-display" class="total-value" style="color: #16a34a;">$0</p>
                        </div>
                        <div class="total-item">
                            <p class="total-label">Total County</p>
                            <p id="total-county-display" class="total-value" style="color: #9333ea;">$0</p>
                        </div>
                        <div class="total-item">
                            <p class="total-label">All Taxes</p>
                            <p id="total-all-taxes-display" class="total-value">$0</p>
                        </div>
                    </div>
                    <div class="total-main">
                        <div class="total-main-item">
                            <p class="total-label">Take-Home Pay</p>
                            <p id="total-take-home-display" class="total-main-value" style="color: #059669;">$0</p>
                        </div>
                        <div class="total-main-item">
                            <p class="total-label">Total Effective Rate</p>
                            <p id="total-effective-rate-display" class="total-main-value">0.00%</p>
                        </div>
                    </div>
                </div>
            </div>
            </div>

            <!-- TAB CONTENT: CUSTOM CALCULATION VIEW -->
            <div id="custom-calc-content" class="tab-content">
                <!-- VISUAL CALCULATIONS SECTION -->
                <div class="calculation-section">
                    <!-- Your Custom Calculation -->
                    <div style="margin-bottom: 3rem;">
                        <h2 class="section-heading" style="text-align: center;">Your Custom Calculation</h2>
                    
                    <!-- Federal Custom Calculation Flow -->
                    <div class="calculation-container">
                        <h3 class="calculation-title">Federal Tax Calculation</h3>
                        
                        <!-- Step 1: Gross Income - Adjustments = AGI -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-gross-income">
                                    <div class="calc-box-label">Gross Income</div>
                                    <div id="visual-gross-income" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">−</div>
                                <div class="calc-box calc-adjustments">
                                    <div class="calc-box-label">Adjustments</div>
                                    <div id="visual-adjustments" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-result concept-agi">
                                    <div class="calc-box-label">AGI</div>
                                    <div id="visual-agi" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2: AGI - Deductions = Taxable Income -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-result concept-agi">
                                    <div class="calc-box-label">AGI</div>
                                    <div id="visual-agi-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">−</div>
                                <div class="calc-box calc-deductions">
                                    <div class="calc-box-label">Deductions</div>
                                    <div id="visual-deductions" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-result concept-taxable-income">
                                    <div class="calc-box-label">Taxable Income</div>
                                    <div id="visual-taxable-income" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 3: Taxable Income × Effective Tax Rate = Tax Before Credits -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-result concept-taxable-income">
                                    <div class="calc-box-label">Taxable Income</div>
                                    <div id="visual-taxable-income-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">×</div>
                                <div class="calc-box calc-tax-rate">
                                    <div class="calc-box-label">Effective Tax Rate</div>
                                    <div id="visual-tax-rate" class="calc-box-value">0.00%</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-pre-credit-tax">
                                    <div class="calc-box-label">Tax Before Credits</div>
                                    <div id="visual-pre-credit-tax" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 4: Tax Before Credits - Credits = Total Federal Tax -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-pre-credit-tax">
                                    <div class="calc-box-label">Tax Before Credits</div>
                                    <div id="visual-pre-credit-tax-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">−</div>
                                <div class="calc-box calc-credits">
                                    <div class="calc-box-label">Credits</div>
                                    <div id="visual-credits" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-total-tax">
                                    <div class="calc-box-label">Total Federal Tax</div>
                                    <div id="visual-total-tax" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 5: Gross Income - Total Federal Tax = Final Take-Home Pay -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-gross-income">
                                    <div class="calc-box-label">Gross Income</div>
                                    <div id="visual-gross-income-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">−</div>
                                <div class="calc-box calc-total-tax">
                                    <div class="calc-box-label">Total Federal Tax</div>
                                    <div id="visual-total-tax-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-take-home">
                                    <div class="calc-box-label">Final Take-Home Pay</div>
                                    <div id="visual-take-home" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 6: Total Federal Tax ÷ Gross Income = Effective Rate (on Gross) -->
                        <div class="calc-step" style="border-top: 1px solid #e2e8f0; margin-top: 1rem; padding-top: 1rem;">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-total-tax">
                                    <div class="calc-box-label">Total Federal Tax</div>
                                    <div id="visual-total-tax-3" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">÷</div>
                                <div class="calc-box calc-gross-income">
                                    <div class="calc-box-label">Gross Income</div>
                                    <div id="visual-gross-income-3" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-effective-rate">
                                    <div class="calc-box-label">Effective Rate (on Gross)</div>
                                    <div id="visual-effective-rate" class="calc-box-value">0.00%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Baseline Comparison -->
                <div style="margin-bottom: 2rem;">
                    <h2 class="section-heading" style="text-align: center;">Baseline Comparison</h2>
                    <p style="color: #64748b; text-align: center; margin-bottom: 1.5rem;">Your gross income with $0 adjustments, $0 credits, and the standard deduction.</p>
                    
                    <!-- Federal Baseline Calculation Flow -->
                    <div class="calculation-container">
                        <h3 class="calculation-title">Federal Tax Calculation</h3>
                        
                        <!-- Step 1: Gross Income - Adjustments = AGI -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-gross-income">
                                    <div class="calc-box-label">Gross Income</div>
                                    <div id="baseline-gross-income" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">−</div>
                                <div class="calc-box calc-adjustments">
                                    <div class="calc-box-label">Adjustments</div>
                                    <div id="baseline-adjustments" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-result concept-agi">
                                    <div class="calc-box-label">AGI</div>
                                    <div id="baseline-agi" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2: AGI - Deductions = Taxable Income -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-result concept-agi">
                                    <div class="calc-box-label">AGI</div>
                                    <div id="baseline-agi-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">−</div>
                                <div class="calc-box calc-deductions">
                                    <div class="calc-box-label">Deductions</div>
                                    <div id="baseline-deductions" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-result concept-taxable-income">
                                    <div class="calc-box-label">Taxable Income</div>
                                    <div id="baseline-taxable-income" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 3: Taxable Income × Effective Tax Rate = Tax Before Credits -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-result concept-taxable-income">
                                    <div class="calc-box-label">Taxable Income</div>
                                    <div id="baseline-taxable-income-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">×</div>
                                <div class="calc-box calc-tax-rate">
                                    <div class="calc-box-label">Effective Tax Rate</div>
                                    <div id="baseline-tax-rate" class="calc-box-value">0.00%</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-pre-credit-tax">
                                    <div class="calc-box-label">Tax Before Credits</div>
                                    <div id="baseline-pre-credit-tax" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 4: Tax Before Credits - Credits = Total Federal Tax -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-pre-credit-tax">
                                    <div class="calc-box-label">Tax Before Credits</div>
                                    <div id="baseline-pre-credit-tax-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">−</div>
                                <div class="calc-box calc-credits">
                                    <div class="calc-box-label">Credits</div>
                                    <div id="baseline-credits" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-total-tax">
                                    <div class="calc-box-label">Total Federal Tax</div>
                                    <div id="baseline-total-tax" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 5: Gross Income - Total Federal Tax = Final Take-Home Pay -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-gross-income">
                                    <div class="calc-box-label">Gross Income</div>
                                    <div id="baseline-gross-income-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">−</div>
                                <div class="calc-box calc-total-tax">
                                    <div class="calc-box-label">Total Federal Tax</div>
                                    <div id="baseline-total-tax-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-take-home">
                                    <div class="calc-box-label">Final Take-Home Pay</div>
                                    <div id="baseline-take-home" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 6: Total Federal Tax ÷ Gross Income = Effective Rate (on Gross) -->
                        <div class="calc-step" style="border-top: 1px solid #e2e8f0; margin-top: 1rem; padding-top: 1rem;">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-total-tax">
                                    <div class="calc-box-label">Total Federal Tax</div>
                                    <div id="baseline-total-tax-3" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">÷</div>
                                <div class="calc-box calc-gross-income">
                                    <div class="calc-box-label">Gross Income</div>
                                    <div id="baseline-gross-income-3" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-effective-rate">
                                    <div class="calc-box-label">Effective Rate (on Gross)</div>
                                    <div id="baseline-effective-rate" class="calc-box-value">0.00%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>

            <!-- TAB CONTENT: MARYLAND CALCULATION VIEW -->
            <div id="maryland-calc-content" class="tab-content">
                <!-- MARYLAND VISUAL CALCULATIONS SECTION -->
                <div class="calculation-section">
                    <!-- Your Custom Maryland Calculation -->
                    <div style="margin-bottom: 3rem;">
                        <h2 class="section-heading" style="text-align: center;">Your Custom Maryland Calculation</h2>
                    
                    <!-- Maryland Custom Calculation Flow -->
                    <div class="calculation-container">
                        <h3 class="calculation-title">Maryland State Tax Calculation</h3>
                        
                        <!-- Step 1: Gross Income - Adjustments = AGI -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-gross-income">
                                    <div class="calc-box-label">Gross Income</div>
                                    <div id="maryland-visual-gross-income" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">−</div>
                                <div class="calc-box calc-adjustments">
                                    <div class="calc-box-label">Adjustments</div>
                                    <div id="maryland-visual-adjustments" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-result concept-agi">
                                    <div class="calc-box-label">AGI</div>
                                    <div id="maryland-visual-agi" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2: AGI - Deductions = Taxable Income -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-result concept-agi">
                                    <div class="calc-box-label">AGI</div>
                                    <div id="maryland-visual-agi-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">−</div>
                                <div class="calc-box calc-deductions">
                                    <div class="calc-box-label">Deductions</div>
                                    <div id="maryland-visual-deductions" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-result concept-taxable-income">
                                    <div class="calc-box-label">Taxable Income</div>
                                    <div id="maryland-visual-taxable-income" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 3: Taxable Income × Maryland State Tax Rate = Maryland State Tax Before Credits -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-result concept-taxable-income">
                                    <div class="calc-box-label">Taxable Income</div>
                                    <div id="maryland-visual-taxable-income-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">×</div>
                                <div class="calc-box calc-tax-rate">
                                    <div class="calc-box-label">Maryland State Tax Rate</div>
                                    <div id="maryland-visual-state-tax-rate" class="calc-box-value">0.00%</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-pre-credit-tax">
                                    <div class="calc-box-label">Maryland State Tax Before Credits</div>
                                    <div id="maryland-visual-state-pre-credit-tax" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 4: Taxable Income × Anne Arundel County Tax Rate = Anne Arundel County Tax -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-result concept-taxable-income">
                                    <div class="calc-box-label">Taxable Income</div>
                                    <div id="maryland-visual-taxable-income-3" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">×</div>
                                <div class="calc-box calc-tax-rate">
                                    <div class="calc-box-label">Anne Arundel County Tax Rate</div>
                                    <div id="maryland-visual-county-tax-rate" class="calc-box-value">0.00%</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-pre-credit-tax" style="background-color: #f3e8ff;">
                                    <div class="calc-box-label">Anne Arundel County Tax</div>
                                    <div id="maryland-visual-county-tax" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 5: Maryland State Tax Before Credits - Credits = Total Maryland State Tax -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-pre-credit-tax">
                                    <div class="calc-box-label">Maryland State Tax Before Credits</div>
                                    <div id="maryland-visual-state-pre-credit-tax-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">−</div>
                                <div class="calc-box calc-credits">
                                    <div class="calc-box-label">Credits</div>
                                    <div id="maryland-visual-credits" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-total-tax">
                                    <div class="calc-box-label">Total Maryland State Tax</div>
                                    <div id="maryland-visual-total-state-tax" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 6: Total Maryland State Tax + Anne Arundel County Tax = Combined Maryland Tax -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-total-tax">
                                    <div class="calc-box-label">Total Maryland State Tax</div>
                                    <div id="maryland-visual-total-state-tax-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">+</div>
                                <div class="calc-box calc-pre-credit-tax" style="background-color: #f3e8ff;">
                                    <div class="calc-box-label">Anne Arundel County Tax</div>
                                    <div id="maryland-visual-county-tax-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-total-tax" style="background-color: #dcfce7;">
                                    <div class="calc-box-label">Combined Maryland Tax</div>
                                    <div id="maryland-visual-combined-tax" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 7: Gross Income - Combined Maryland Tax = Take-Home Pay -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-gross-income">
                                    <div class="calc-box-label">Gross Income</div>
                                    <div id="maryland-visual-gross-income-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">−</div>
                                <div class="calc-box calc-total-tax" style="background-color: #dcfce7;">
                                    <div class="calc-box-label">Combined Maryland Tax</div>
                                    <div id="maryland-visual-combined-tax-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-take-home">
                                    <div class="calc-box-label">Final Take-Home Pay</div>
                                    <div id="maryland-visual-take-home" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 8: Combined Maryland Tax ÷ Gross Income = Effective Rate (on Gross) -->
                        <div class="calc-step" style="border-top: 1px solid #e2e8f0; margin-top: 1rem; padding-top: 1rem;">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-total-tax" style="background-color: #dcfce7;">
                                    <div class="calc-box-label">Combined Maryland Tax</div>
                                    <div id="maryland-visual-combined-tax-3" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">÷</div>
                                <div class="calc-box calc-gross-income">
                                    <div class="calc-box-label">Gross Income</div>
                                    <div id="maryland-visual-gross-income-3" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-effective-rate">
                                    <div class="calc-box-label">Effective Rate (on Gross)</div>
                                    <div id="maryland-visual-effective-rate" class="calc-box-value">0.00%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Maryland Baseline Comparison -->
                <div style="margin-bottom: 2rem;">
                    <h2 class="section-heading" style="text-align: center;">Baseline Comparison</h2>
                    <p style="color: #64748b; text-align: center; margin-bottom: 1.5rem;">Your gross income with $0 adjustments, $0 credits, and the standard deduction.</p>
                    
                    <!-- Maryland Baseline Calculation Flow -->
                    <div class="calculation-container">
                        <h3 class="calculation-title">Maryland State Tax Calculation</h3>
                        
                        <!-- Step 1: Gross Income - Adjustments = AGI -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-gross-income">
                                    <div class="calc-box-label">Gross Income</div>
                                    <div id="maryland-baseline-gross-income" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">−</div>
                                <div class="calc-box calc-adjustments">
                                    <div class="calc-box-label">Adjustments</div>
                                    <div id="maryland-baseline-adjustments" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-result concept-agi">
                                    <div class="calc-box-label">AGI</div>
                                    <div id="maryland-baseline-agi" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2: AGI - Deductions = Taxable Income -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-result concept-agi">
                                    <div class="calc-box-label">AGI</div>
                                    <div id="maryland-baseline-agi-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">−</div>
                                <div class="calc-box calc-deductions">
                                    <div class="calc-box-label">Deductions</div>
                                    <div id="maryland-baseline-deductions" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-result concept-taxable-income">
                                    <div class="calc-box-label">Taxable Income</div>
                                    <div id="maryland-baseline-taxable-income" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 3: Taxable Income × Maryland State Tax Rate = Maryland State Tax Before Credits -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-result concept-taxable-income">
                                    <div class="calc-box-label">Taxable Income</div>
                                    <div id="maryland-baseline-taxable-income-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">×</div>
                                <div class="calc-box calc-tax-rate">
                                    <div class="calc-box-label">Maryland State Tax Rate</div>
                                    <div id="maryland-baseline-state-tax-rate" class="calc-box-value">0.00%</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-pre-credit-tax">
                                    <div class="calc-box-label">Maryland State Tax Before Credits</div>
                                    <div id="maryland-baseline-state-pre-credit-tax" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 4: Taxable Income × Anne Arundel County Tax Rate = Anne Arundel County Tax -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-result concept-taxable-income">
                                    <div class="calc-box-label">Taxable Income</div>
                                    <div id="maryland-baseline-taxable-income-3" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">×</div>
                                <div class="calc-box calc-tax-rate">
                                    <div class="calc-box-label">Anne Arundel County Tax Rate</div>
                                    <div id="maryland-baseline-county-tax-rate" class="calc-box-value">0.00%</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-pre-credit-tax" style="background-color: #f3e8ff;">
                                    <div class="calc-box-label">Anne Arundel County Tax</div>
                                    <div id="maryland-baseline-county-tax" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 5: Maryland State Tax Before Credits - Credits = Total Maryland State Tax -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-pre-credit-tax">
                                    <div class="calc-box-label">Maryland State Tax Before Credits</div>
                                    <div id="maryland-baseline-state-pre-credit-tax-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">−</div>
                                <div class="calc-box calc-credits">
                                    <div class="calc-box-label">Credits</div>
                                    <div id="maryland-baseline-credits" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-total-tax">
                                    <div class="calc-box-label">Total Maryland State Tax</div>
                                    <div id="maryland-baseline-total-state-tax" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 6: Total Maryland State Tax + Anne Arundel County Tax = Combined Maryland Tax -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-total-tax">
                                    <div class="calc-box-label">Total Maryland State Tax</div>
                                    <div id="maryland-baseline-total-state-tax-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">+</div>
                                <div class="calc-box calc-pre-credit-tax" style="background-color: #f3e8ff;">
                                    <div class="calc-box-label">Anne Arundel County Tax</div>
                                    <div id="maryland-baseline-county-tax-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-total-tax" style="background-color: #dcfce7;">
                                    <div class="calc-box-label">Combined Maryland Tax</div>
                                    <div id="maryland-baseline-combined-tax" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 7: Gross Income - Combined Maryland Tax = Take-Home Pay -->
                        <div class="calc-step">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-gross-income">
                                    <div class="calc-box-label">Gross Income</div>
                                    <div id="maryland-baseline-gross-income-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">−</div>
                                <div class="calc-box calc-total-tax" style="background-color: #dcfce7;">
                                    <div class="calc-box-label">Combined Maryland Tax</div>
                                    <div id="maryland-baseline-combined-tax-2" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-take-home">
                                    <div class="calc-box-label">Final Take-Home Pay</div>
                                    <div id="maryland-baseline-take-home" class="calc-box-value">$0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 8: Combined Maryland Tax ÷ Gross Income = Effective Rate (on Gross) -->
                        <div class="calc-step" style="border-top: 1px solid #e2e8f0; margin-top: 1rem; padding-top: 1rem;">
                            <div class="calc-step-mobile">
                                <div class="calc-box calc-total-tax" style="background-color: #dcfce7;">
                                    <div class="calc-box-label">Combined Maryland Tax</div>
                                    <div id="maryland-baseline-combined-tax-3" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">÷</div>
                                <div class="calc-box calc-gross-income">
                                    <div class="calc-box-label">Gross Income</div>
                                    <div id="maryland-baseline-gross-income-3" class="calc-box-value">$0</div>
                                </div>
                                <div class="calc-operator">=</div>
                                <div class="calc-box calc-effective-rate">
                                    <div class="calc-box-label">Effective Rate (on Gross)</div>
                                    <div id="maryland-baseline-effective-rate" class="calc-box-value">0.00%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>

        </main>
    </div>

    <!-- Import the main calculator application -->
    <script type="module" src="js/main.js"></script>

</body>
</html>
